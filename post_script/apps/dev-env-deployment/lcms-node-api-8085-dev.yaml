---
 apiVersion: apps/v1
 kind: Deployment
 metadata:
   name: lcms-node-api-8085
   namespace: dev
 spec:
   selector:
    matchLabels:
      app: lcms-node-api-8085
   replicas: 1
   template:
     metadata:
       labels:
         app: lcms-node-api-8085
     spec:
       containers:
       - name: lcms-node-api-8085
         image: 910393620193.dkr.ecr.us-east-1.amazonaws.com/lcms-dev-8085-api@sha256:9ac28af5aa8c2049626a033c8005b38ea85dfa78c668770b260e02132227dbdb
         imagePullPolicy: Always
         ports:
         - containerPort: 8085
           protocol: TCP
         livenessProbe:
            httpGet:
              path: /healthz
              port: 8085
            initialDelaySeconds: 21600
         resources:
           requests:
             cpu: "2000m"
             memory: 3800Mi
           limits:
             cpu: "2000m"
             memory: 4000Mi
         lifecycle:
           preStop:
             exec:
               command: ["/bin/bash","-c","/bin/sleep 120; kill -QUIT 1"]
       terminationGracePeriodSeconds: 120